# 期末考查

## 题目 
1. 设计用户登录界面，要求用户输入登录名和密码；

2. 访问user.txt，获取该文件中的信息，当用户输入的登录名与文件中UserID列一致，且输入密码与UserPSW一致时，认为是合法用户；

3. 用户验证成功后，显示该用户的详细信息（表中的用户姓名、地址信息）。

> 注：user.txt文件中有五行数据（首行是列名），即有四个合法用户，用户输入的登录名和密码与数据库中的四个用户都无法匹配时，是无效的登陆。

> UserID,UserPSW,UserName,UserAddress

> IBM,ibmuser,IBM公司,美国硅谷

> Lenovo,lnuser,联想公司,中国北京

> microsoft,msuser,微软公司,美国纽约

> Tencent,qquser,腾讯公司,中国深圳

## 解题思路、说明、设计等

1. 设计登录窗体，让用户可以输入用户名、密码。

窗体布局采用borderlayout和gridlayout。

窗口中的所有组件均采用swing组件。其好处是：

- Swing的实现是一个小型GUI框架，该框架无基本平台依赖性，而在AWT实现中却有依赖性。
- javax.swing.JComponent类是所有Swing组件的基类。
- Swing模型的目标是要遵循模型-视图-控制器体系结构。模型封装了数据和状态的底层表示。
- javax.swing.plaf包提供了一个接口和许多抽象类用于定义可插入的外观框架。缺省的外观由javax.swing.plaf.basic包中的类实现。

简言之，跨平台性更加优良。

2. 点击按钮“OK”以后，读取位于E盘的文件user.txt，并执行检查。

	点击了OK按钮后，会执行代码中的函数：loadCheck函数。这个函数的作用是读取文件，并按要求检查输入框内的用户名和密码是否正确。loadCheck函数不返回任何值，有一个形参：String类型的“pathName”，使用时要把user.txt所在位置传进去。

3. 遍历除第一行外的所有记录，提取出正确的用户名和所匹配密码。只有当用户名和密码全部匹配时才显示继续提取出的公司名称与地址信息。

loadCheck函数写好了相应的检测方法。BufferedReader类的br为读取文件的对象。定义好的LdUsname， LdPswd， LdComname，LdAddr 分别用来获取正确的用户名、密码、公司名称和公司地址。首先让br读两次“Line”（因为第一行表头不是有效信息，需略过），然后进入for循环，开始遍历所有的行，获取相应的信息，通过split方法按“,”分割，提取出正确的用户名和密码。for循环中的每次循环都判断一次用户名和密码是否匹配。如果用户名和密码匹配，立即跳出循环，结果指示器res设为已找到（res = 1），并继续用split提取出公司名称和公司地址；不对则继续循环，直到退出循环。for循环条件中的“4”指定了循环次数，与行数相等。

4. 用对话弹框的方式显示剩余信息。

如果结果显示器表示已找到，则使用JOptionPane显示公司名称和公司地址。两者分别由LdComname和LdAddr获取

5. 错误的用户名或错误的密码会弹框显示错误。

如果结果显示器表示未找到，则使用JOptionPane弹出错误信息，告知用户因为输错用户名或密码，没有权限获得这些信息。
